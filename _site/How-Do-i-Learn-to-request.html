<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8">
<title>A simple jekyll theme aimed at programmers who like clean interface to write posts and show off some code.
</title>
<meta name="description" content="A simple jekyll theme aimed at programmers who like clean interface to write posts and show off some code.
">
<meta name="keywords" content="python, request, query string">
<!-- Twitter Card and Open Graph tags -->
<meta name="twitter:title" content="How Do i Learn to request &#8211; ">
<meta name="twitter:description" content="A simple jekyll theme aimed at programmers who like clean interface to write posts and show off some code.
">
<meta name="twitter:creator" content="@vimalrajktm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image:src" content="http://localhost:4000/images/logo.png">
<meta property="og:type" content="article">
<meta property="og:title" content="How Do i Learn to request &#8211; ">
<meta property="og:description" content="A simple jekyll theme aimed at programmers who like clean interface to write posts and show off some code.
">
<meta property="og:url" content="http://localhost:4000/How-Do-i-Learn-to-request.html">
<meta property="og:site_name" content="">

<!-- Webmaster Tools verfication -->




<link rel="canonical" href="http://localhost:4000/How-Do-i-Learn-to-request.html">
<link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title=" Feed">

<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="/css/main.min.css" type="text/css" />



<link rel="stylesheet" href="/css/main.min.css" type="text/css" />


</head>
<body>
  <div class="header-container container">
  <header>
    <a href="http://localhost:4000" class="top-link">Vimalraj</a>
      <ul class="nav">
        <!--Change the  URL here if working on an absolute domain-->
        <li><a href="http://localhost:4000">Home</a></li>
        <li><a href="http://localhost:4000/about">About</a></li>
        
          <li><a href="https://github.com/vimalraj571" target="_blank">Projects</a></li>
        
        <!-- <li><a href="http://localhost:4000/feed.xml">RSS</a></li> -->
      </ul>
      <a href="https://github.com/vimalraj571" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </header>
</div>

  <div class="container">
  <h2>How Do i Learn to request</h2>
<p class="meta">06 May 2018</p>

<div class="post">
<p>Hi Today i came across the situation to make the query string on server (May likely to the API endpoint)
And get the response show it on terminal</p>

<h2 id="query-string">Query String</h2>

<p>Query String is the process like give the string in url and get the response</p>

<p>Like google simple query string using the url</p>

<p>It is the very basic query string using Google</p>

<ul>
  <li>https://www.google.com/search?q=python+things</li>
</ul>

<h2 id="code">Code</h2>

<p>I done that by using python 3.5! Using the library module called urllib.
Using the urlretrieve function you can make the Query string to the server
But the major disappoint is you can’t get the response directly 
the difficulty is get the response as the txt file
open using the file.open() kind a things</p>

<p>So using the urlretrieve library function the we can make request easily but 
the response is difficult to get and see in terminal  (in my case)</p>

<p>Be i didn’t used any of the magic things so i tried the library function urlretrieve how i turned down that</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">'q'</span> <span class="p">:</span> <span class="s">'This simple sentence contain shots of words'</span> <span class="p">}</span>
<span class="n">qs</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>	
<span class="n">connection</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="s">"http://www.wdylike.appspot.com/?"</span><span class="o">+</span><span class="n">qs</span><span class="p">)</span> <span class="c">#Or pass second argument as txt.txt get in same dir</span>
<span class="k">print</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span></code></pre></figure>

<p>qs = urlencode(d) gives the query string as like</p>

<p>http://www.wdylike.appspot.com/?q=This+simple+sentence+contain+shots+of+words (Pretty cool right)</p>

<ul>
  <li>RESPONSE at : (‘/tmp/tmpl56ujjzh’, &lt;http.client.HTTPMessage object at 0x7fea196748d0&gt;)</li>
</ul>

<p>In this case again i have to read the tmpl56ujjzh.txt file using open.file() and get the response</p>

<h2 id="the-magic">The Magic</h2>

<p>The Magic thing is called request</p>

<p>which is available in PyPy you can use install it using the</p>

<ul>
  <li>pip install request</li>
</ul>

<p>When you have anaconda it is preinstalled</p>

<p>Now i make the request and response with the hesitation Now the code will be like</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">dic</span> <span class="o">=</span> <span class="p">{</span><span class="s">'q'</span> <span class="p">:</span> <span class="n">file_content</span> <span class="p">}</span>
<span class="n">URL</span> <span class="o">=</span> <span class="s">'http://www.wdylike.appspot.com'</span> 
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="o">=</span> <span class="n">URL</span><span class="p">,</span><span class="n">params</span><span class="o">=</span> <span class="n">dic</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">)</span></code></pre></figure>

<ul>
  <li>REPONSE as : false</li>
</ul>

<p>I can simply put r.text or r.json() to show the response</p>

<p>the simple dic will converted as the Query string like this:</p>

<ul>
  <li>http://www.wdylike.appspot.com/?q=This+simple+sentence+contain+shots+of+words</li>
</ul>

<p>using the request package</p>

<p>Thanks to the Kennith Ritz</p>
<ul>
  <li>
    <p>PS: Creater of request</p>
  </li>
  <li>1.Things i learned make sure have the pypy packages to easy the work</li>
  <li>2.How to do code on Google Style guide</li>
  <li>3.As well as as how to request</li>
</ul>

<p>Happy coding !! :)</p>

</div>


    <div class="keep-in-touch">
      <p>
        Tweet me <a href="https://twitter.com/vimalrajktm">@vimalrajktm</a> if you like this post.
      </p>
    </div>


<a href="https://twitter.com/share" class="twitter-share-button" data-via="vimalrajktm" data-size="large" data-hashtags="Vimalraj">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>



  

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', '']);
  _gaq.push(['_trackPageview']);
  (function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </div><!-- /.main -->
</body>
</html>